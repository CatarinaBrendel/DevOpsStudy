html, body {
  height: 100%;
  margin: 0;
  scrollbar-gutter: stable both edges;
}

*, *::before, *::after {
  box-sizing: border-box;
}

.app-shell {
  height: 100dvh;
  display: grid;
  grid-template-columns: 280px minmax(0, 1fr) 360px;
  gap: 16px;
  padding: 12px;
  overflow: hidden; /* prevents double scrollbars */
}

.app-sidebar {
  position: sticky;
  top: 0;
  align-self: start;
  height: 100dvh;
  overflow-y: auto;
  min-width: 0;
  border-right: 1px solid #e9ecef;
  background: #fff;
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  padding: 12px;
  scrollbar-gutter: stable both edges;
}

.app-main {
  padding: 16px;
  overflow: auto;
  min-width: 0;
  scrollbar-gutter: stable both edges;
}

/* new: right rail */
.app-right {
  position: sticky;
  top: 0;
  align-self: start;
  height: 100dvh;
  overflow: auto;
  padding: 12px;
  background: #fff;
  border: 1px solid #e9ecef;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(16,24,40,.06);
}

/* src/components/sidebar.css */
:root{
  --bg:#f6f7f9; --card:#fff; --line:#e6e8eb; --text:#0f172a; --muted:#6b7280;
  --green:#16a34a; --amber:#f59e0b; --red:#dc2626; --ring: rgba(59,130,246,.4);
}
/* Panel/card look */
.sidebar{
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 12px;
  border: 1px solid var(--line);
  border-radius: 16px;
  background: var(--card);
  overflow-y: auto;
  min-height: 0;  
}

/* Search with icon inside */
.sidebar__search{ position:relative; }
.sidebar__search::before{
  content:"";
  position:absolute; left:12px; top:50%; transform:translateY(-50%);
  width:16px; height:16px; opacity:.6;
  background: currentColor;
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black"><path d="M11.742 10.344a6.5 6.5 0 10-1.397 1.398h-.001l3.85 3.85a1 1 0 001.415-1.414l-3.867-3.834zM12 6.5a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0z"/></svg>') no-repeat center / contain;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black"><path d="M11.742 10.344a6.5 6.5 0 10-1.397 1.398h-.001l3.85 3.85a1 1 0 001.415-1.414l-3.867-3.834zM12 6.5a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0z"/></svg>') no-repeat center / contain;
}
.sidebar__search input{
  width:100%; padding:10px 12px 10px 36px;
  border:1px solid var(--line); border-radius:12px; outline:none; background:#fff;
}

/* Chips */
.sidebar__chips{ display:flex; gap:8px; }
.chip{
  border:1px solid var(--line); background:#fff; padding:7px 12px; border-radius:999px;
  font-size:12px; color:var(--text); opacity:.9;
}
.chip--active{ border-color:#cde3ff; background:#f3f8ff; }

/* List & rows */
.sidebar__list{ 
  flex: 1 1 auto;
  min-height: 0;
  overflow: visible;
}

.row{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; width:100%; text-align:left;
  padding:12px; background:#fff; border:0; border-radius:0;
  border-top:1px solid var(--line);
}
.row:first-child{ border-top:1px solid var(--line); }
.row:hover{ background:#fafafa; }

.row--selected {
  background-color: #f8f9fa; /* Bootstrap light grey */
}

/* Optional: subtle accent border to make it pop */
.row--selected {
  border-left: 4px solid #0d6efd; /* Bootstrap blue */
}

/* Left side: dot + name + faint sparkline under it */
.row__left{ display:flex; align-items:center; gap:10px; min-width:0; }
.row__text{ display:flex; flex-direction:row; align-items: baseline; gap:6px; min-width:0; }
.row__name{
  font-size:15px; font-weight:600; color:var(--text);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; min-width: 0;
}
.row__subspark{ width: 40px;height:14px; opacity:.25; flex: 0 0 auto;}

/* Right side: compact sparkline + meta stacked */
.row__right{ display:flex; align-items:center; gap:12px; }
.row__spark{ width:84px; height:24px; }
.row__meta{
  display:flex; align-items:center; gap:8px;
  font-size:12px; color:var(--muted);
}
.latency{ min-width:44px; text-align:right; }

/* Dots */
.dot{ width:12px; height:12px; border-radius:999px; display:inline-block; margin-top:2px; }
.dot--up{ background:var(--green); }
.dot--warn{ background:var(--amber); }
.dot--down{ background:var(--red); }

/* Badges */
.badge{
  font-size:12px; padding:2px 8px; border-radius:8px; font-weight:600;
}
.badge--warn{ background:#fff5cc; color:#8a6d00; }
.badge--down{ background:#ffe1e1; color:#8a0000; }
.meta-ok{ color:var(--muted); font-weight:600; }

/* Footer pinned to bottom of the card */
.sidebar__footer {
  position: sticky;
  bottom: 0;
  display: flex;
  gap: 1rem;
  margin-top: auto;
  padding-top: 12px;
  padding-right: 5px;
  padding-left: 5px;
  border-top: 1px solid var(--line);
  z-index: 1;
  box-shadow: 0 -8px 16px rgba(16,24,40,.06);
}

/* Server Details Table */
.table-responsive {
  overflow-x: auto; /* only scroll if needed */
  max-width: 100%;
}

.table-responsive thead th {
  position: sticky;
  top: 0;
  background-color: #f8f9fa; /* matches .table-light */
  z-index: 3; /* ensure header is above sticky column cells */
}

.table-responsive tbody th,
.table-responsive tbody td:first-child {
  position: sticky;
  left: 0;
  background-color: #fff; /* matches body background */
  z-index: 2; /* so it stays above other cells */
}

/* For the top-left corner cell to stack above both sticky header and sticky column */
.table-responsive thead th:first-child {
  z-index: 4;
}

/* Empty state layout: make it breathe and avoid clipping */
.empty-state {
  /* keeps center placement without hugging the bottom */
  padding: 4rem 1rem 5rem;
  min-height: calc(100dvh - 2rem); /* roomy without relying on parent overflow */
}

.empty-card {
  max-width: 760px;
  width: 100%;
  border-radius: 16px;
  /* softer, more product-like shadow */
  box-shadow: 0 10px 30px rgba(16, 24, 40, 0.08) !important;
}

/* Tip visuals */
.tip .icon-box {
  width: 40px;
  height: 40px;
  border-color: rgba(13, 110, 253, 0.2);
}
.tip .icon-box .bi { font-size: 1rem; }

/* Optional: subtle dotted background without clipping */
.main-content { background-image: radial-gradient(circle at 1px 1px, rgba(13,110,253,.12) 1px, transparent 1px); background-size: 24px 24px; }


/* Modal CSS */
.dd-modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.5);
  display: flex !important;
  align-items: center;
  justify-content: center;
  z-index: 99999;
}

.dd-modal {
  background: #fff;
  padding: 20px;
  border-radius: 8px;
  width: 30rem;
  box-shadow: 0 4px 20px rgba(0,0,0,.3);
  display: block;           /* override any global defaults */
  visibility: visible;      /* belt + suspenders */
  opacity: 1;               /* in case a framework sets 0 by default */
  outline: 1px solid #ddd;  /* temporary: makes it obvious it's visible */
}

.dd-modal h3 {
  margin-top: 0;
}

.dd-modal input {
  width: 100%;
  margin-bottom: 12px;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.modal-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

.modal-buttons .primary {
  background: #007bff;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 4px;
  cursor: pointer;
}

.modal-buttons button {
  cursor: pointer;
}

/* Responsive: collapse right rail under main on small screens */
@media (max-width: 992px) {
  .app-shell {
    grid-template-columns: 1fr;    /* stack */
  }
  .app-right {
    position: static;
    height: auto;
    overflow: visible;
    margin-top: 12px;
  }
}

/* Optional: responsive collapse */
@media (max-width: 768px) {
  .sidebar { 
    height: auto; 
    overflow: visible; 
  }

  .app-shell {
    grid-template-columns: 1fr;   /* stack */
    height: auto;
  }

  .app-sidebar {
    position: static;             /* disable sticky on small screens */
    max-height: none;
    overflow: visible;
  }

  .sidebar__footer { 
    position: static; 
    box-shadow: none; 
  }
}
